import * as p from '@clack/prompts';
import { uploadAssets } from './upload.js';
import { formatElapsedTime } from '../utils/formatters.js';
import { writeLine } from '../utils/output.js';
/**
 * Executes the deployment by uploading assets to the LinkTypes API.
 *
 * @param context - Deployment context
 * @param artifacts - Prepared artifacts
 * @returns Upload result from API
 */
export async function executeDeployment(context, artifacts) {
    writeLine();
    const uploadStart = Date.now();
    const s = p.spinner();
    s.start('Uploading assets');
    const result = await uploadAssets({
        projectPath: context.projectPath,
        apiUrl: artifacts.apiUrl,
        linkAppId: context.linkAppId,
        accessToken: context.accessToken,
        isUpdate: artifacts.exists,
        forceUpdate: context.options.force,
    });
    const uploadTime = formatElapsedTime(Date.now() - uploadStart);
    s.stop(`Assets uploaded (${uploadTime})`);
    return result;
}
//# sourceMappingURL=execution.js.map