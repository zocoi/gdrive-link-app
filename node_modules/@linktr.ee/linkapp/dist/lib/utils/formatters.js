import pc from 'picocolors';
import { TIMESTAMP, DISPLAY } from './constants.js';
import { writeLine, writeIndented } from './output.js';
/**
 * Formats a timestamp (in seconds or milliseconds) to a localized string.
 * Automatically detects whether the timestamp is in seconds or milliseconds.
 *
 * @param timestamp - Timestamp in seconds or milliseconds
 * @returns Formatted date string, or null if timestamp is undefined
 */
export function formatTimestamp(timestamp) {
    if (!timestamp) {
        return null;
    }
    // Convert seconds to milliseconds if needed
    const timestampMs = timestamp < TIMESTAMP.SECONDS_TO_MS_THRESHOLD ? timestamp * 1000 : timestamp;
    return new Date(timestampMs).toLocaleString();
}
/**
 * Formats an elapsed time in milliseconds to a human-readable string.
 *
 * @param ms - Time in milliseconds
 * @returns Formatted time string (e.g., "1.5s")
 */
export function formatElapsedTime(ms) {
    return `${(ms / 1000).toFixed(1)}s`;
}
/**
 * Displays a list of files with a preview limit.
 * Shows first N files and indicates how many more exist.
 *
 * @param files - Array of file paths
 * @param title - Title to display above the list
 * @param limit - Maximum number of files to show (default: from DISPLAY constant)
 */
export function displayFileList(files, title, limit = DISPLAY.FILE_PREVIEW_LIMIT) {
    writeLine();
    writeLine(pc.bold(title));
    const filesToShow = files.slice(0, limit);
    for (const file of filesToShow) {
        writeIndented(`• ${file}`);
    }
    if (files.length > limit) {
        writeIndented(`• ... and ${files.length - limit} more files`);
    }
}
/**
 * Pluralizes a word based on count.
 *
 * @param count - The count to check
 * @param singular - Singular form of the word
 * @param plural - Plural form of the word (optional, defaults to singular + 's')
 * @returns Pluralized string with count
 */
export function pluralize(count, singular, plural) {
    const word = count === 1 ? singular : plural ?? `${singular}s`;
    return `${count} ${word}`;
}
//# sourceMappingURL=formatters.js.map