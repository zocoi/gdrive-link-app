#!/usr/bin/env node
import { cac } from 'cac';
import { devCommand } from './commands/dev.js';
import { buildCommand } from './commands/build.js';
import { deployCommand } from './commands/deploy.js';
import { addCommand } from './commands/add.js';
import { loginCommand } from './commands/login.js';
import { logoutCommand } from './commands/logout.js';
import { testUrlMatchRulesCommand } from './commands/test-url-match-rules.js';
const cli = cac('linkapp');
// Package info
const version = '0.0.1';
cli.version(version).help();
// Dev command
cli
    .command('dev', 'Start development server with preview')
    .option('--port <port>', 'Preview server port (default: 3000)', { default: 3000 })
    .action(devCommand);
// Build command
cli
    .command('build', 'Build LinkApp for production')
    .option('--analyze', 'Generate bundle analysis report (deprecated, use --profile)')
    .option('--profile', 'Enable build profiling and bundle analysis')
    .option('--sourcemap', 'Generate sourcemaps for production build')
    .option('--compress', 'Generate Brotli-compressed (.br) files for optimal CDN delivery')
    .action(buildCommand);
// Deploy command
cli
    .command('deploy', 'Deploy LinkApp to Linktree')
    .option('--qa', 'Deploy to QA environment instead of production')
    .option('--skip-confirm', 'Skip deployment confirmation prompt')
    .option('--force', 'Force deployment even if LinkApp is published')
    .action(deployCommand);
// Add command
cli
    .command('add [component]', 'Add a component from the registry')
    .option('--yes', 'Skip confirmation prompts')
    .option('--overwrite', 'Overwrite existing files')
    .option('--registry <url>', 'Custom registry URL')
    .action(addCommand);
// Login command
cli
    .command('login', 'Authenticate with Linktree')
    .option('--qa', 'Login to QA environment instead of production')
    .action(loginCommand);
// Logout command
cli
    .command('logout', 'Sign out of Linktree')
    .option('--qa', 'Logout from QA environment instead of production')
    .action(logoutCommand);
// Test URL match rules
cli.command('test-url-match-rules <url>', 'Test URL match rules against a URL').action(testUrlMatchRulesCommand);
// Parse and run
cli.parse();
//# sourceMappingURL=cli.js.map